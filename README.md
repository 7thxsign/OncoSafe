# Drug Interaction Prediction App

A Flutter-based mobile application that predicts potential drug interactions. This tool connects to a Python Flask backend, which uses AI models trained on known drug interaction data to help healthcare professionals and users identify possible risks when combining different medications.

## üöÄ Features

-   **Real-time Interaction Checks:** Select two drugs and get instant interaction analysis.
-   **Backend Powered by AI:**
    -   Uses models trained on a comprehensive drug interaction dataset.
    -   Provides known interactions directly from the dataset.
    -   Predicts interactions for unlisted combinations based on learned patterns.
-   **Detailed Information:**
    -   Risk Rating Classification (X, D, C).
    -   Mechanism of Interaction.
    -   Suggested Alternatives for risky combinations.
-   **User-Friendly Interface:** Easy drug selection and clear presentation of results.

## üõ†Ô∏è Technology Stack

**Frontend (Mobile App):**
-   Flutter/Dart

**Backend (API Service):**
-   Python
-   Flask (Web framework)
-   Scikit-learn (Machine learning models)
-   Joblib (Model persistence)
-   Pandas (Data handling)
-   Pyngrok (For development: exposing local server to the internet)
-   (Initially trained in Google Colab)

**AI/ML Core:**
-   TF-IDF Vectorization for drug name features.
-   Random Forest Classifiers for predicting Risk Rating, Mechanism, and Alternatives.
-   Lookup table for known interactions.

## üìã Prerequisites

**For Running the Flutter App:**
-   Flutter SDK
-   Dart SDK
-   Android Studio / Xcode (for mobile deployment)

**For Running/Developing the Backend Service:**
-   Python 3.7+
-   `pip` (Python package installer)
-   An ngrok account and authtoken (for development/testing with `pyngrok`)
-   Trained model files (`.joblib` files saved from the Colab training script)

## üîß Installation & Setup

### 1. Backend API Service

The backend service needs to be running for the Flutter app to fetch interaction data.

   a. **Clone the Repository (if backend code is included):**
      If your backend code is in the same repository:
      ```bash
      git clone https://github.com/7thxsign/OncoSafe.git
      cd druginteractionapp/backend # Or wherever your app.py and ddi_models are
      ```
      If it's separate, clone that repository.

   b. **Place Trained Models:**
      Ensure the `ddi_models/` directory (containing `pipeline_risk.joblib`, `le_risk.joblib`, etc.) is correctly placed relative to your Flask `app.py` file as expected by the script (usually in the same directory or a subdirectory named `ddi_models`). These files are generated by the [Colab Training Notebook/Script - link if you have one].

   c. **Install Python Dependencies:**
      Navigate to your backend directory and install the required packages:
      ```bash
      pip install Flask scikit-learn pandas joblib pyngrok
      ```

   d. **Configure ngrok (Optional but recommended for development):**
      If using `pyngrok` integrated into `app.py`, ensure your NGROK_AUTHTOKEN is set within `app.py` or as an environment variable.

   e. **Run the Backend Service:**
      ```bash
      python app.py
      ```
      This will start the Flask server. If ngrok is configured, it will also provide a public URL. Note this URL (e.g., `https://abcdef12345.ngrok-free.app`).

### 2. Flutter Mobile Application

   a. **Clone the Repository (if not already done):**
      ```bash
      git clone https://github.com/yourusername/druginteractionapp.git
      cd druginteractionapp # Navigate to the root Flutter project directory
      ```

   b. **Configure API Endpoint in Flutter:**
      Open your Flutter project. You'll need to set the backend API URL in your Flutter code (likely in an `api_service.dart` or constants file).
      Replace any placeholder URL with the ngrok URL (or your deployed backend URL) from the previous step.
      Example: `static const String apiUrl = 'https://abcdef12345.ngrok-free.app/predict_ddi';`

   c. **Install Flutter Dependencies:**
      ```bash
      flutter pub get
      ```

   d. **Run the Application:**
      ```bash
      flutter run
      ```

## üíª Usage

1.  Ensure the backend Flask API service is running and accessible.
2.  Launch the Flutter application on your emulator or device.
3.  Select two drugs from the dropdown menus.
4.  Tap the "Check Interaction" button (or similar).
5.  The app will communicate with the backend and display:
    -   Risk Rating (e.g., D, X)
    -   Mechanism of Interaction
    -   Suggested Alternatives
    -   Source of information (Known from dataset / Predictive)

## ü§ñ How It Works

1.  **User Input:** The Flutter app captures the two selected drug names.
2.  **API Call:** The app sends a `POST` request with the drug names to the Flask backend API.
3.  **Backend Processing:**
    -   The Flask API receives the request.
    -   It first checks if the drug pair is in a pre-loaded dictionary of known interactions.
    -   If not found, it uses pre-trained scikit-learn models (TF-IDF + Random Forest) to predict the Risk Rating, Mechanism of Interaction, and Alternatives based on the drug names.
4.  **API Response:** The backend sends back a JSON response containing the interaction details.
5.  **Display Results:** The Flutter app parses the JSON response and displays the information to the user.

## ‚ö†Ô∏è Disclaimer

This application is intended as a supplementary tool for informational purposes and should **not** replace professional medical advice, diagnosis, or treatment. Always consult with a qualified healthcare professional before making any decisions about your health or medications. The predictions for unknown combinations are based on learned patterns and may not always be accurate or complete.

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## üìù License

This project is licensed under the MIT License - see the `LICENSE` file for details.

## üë• Authors

-   Your Name - Initial work

## üôè Acknowledgments

-   Healthcare professionals who provided domain expertise.
-   The creators and maintainers of the drug interaction database used for training.
-   The Flutter, Dart, Python, Flask, and Scikit-learn communities.
